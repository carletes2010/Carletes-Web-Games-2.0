<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Carletes Games ‚Äî Acceso + Cat√°logo</title>

  <!-- Google Font: Lexend Deca -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #ffffff;
      --fg: #0a0a0a;
      --muted: #444;
      --card: #f9fafb;
      --stroke: #e5e7eb;
      --accent: #1d4ed8;
      --accent-dark: #1e3a8a;
      --radius: 16px;
      --shadow: 0 6px 18px rgba(0,0,0,.08);
    }
    @media (prefers-color-scheme: dark){
      :root {
        --bg: #0a0a0a;
        --fg: #f9fafb;
        --muted: #9ca3af;
        --card: #111;
        --stroke: #222;
        --accent: #3b82f6;
        --accent-dark: #2563eb;
        --shadow: 0 8px 20px rgba(0,0,0,.5);
      }
    }

    * { box-sizing: border-box; }
    html, body { margin: 0; height: 100%; background: var(--bg); color: var(--fg); font-family: 'Lexend Deca', sans-serif; -webkit-font-smoothing: antialiased; }
    a { color: inherit; text-decoration: none; }

    .wrap { max-width: 1100px; margin: 0 auto; padding: max(20px, env(safe-area-inset-top)) 20px max(24px, env(safe-area-inset-bottom)); }

    /* Buttons */
    .btn { padding: 12px 20px; font-weight: 700; border-radius: 12px; border: 1px solid var(--accent); background: var(--accent); color: #fff; transition: background .2s ease, transform .1s ease; cursor: pointer; }
    .btn:hover { background: var(--accent-dark); }
    .btn:active { transform: scale(.98); }
    .btn.ghost { background: transparent; color: var(--accent); }
    .btn.ghost:hover { background: var(--accent); color:#fff; }
    .btn.full { width: 100%; }

    /* ======= LOGIN VIEW ======= */
    .center-screen { min-height: 100dvh; display: grid; place-items: center; padding: 20px; }
    .auth-card { width: 100%; max-width: 460px; background: var(--card); border: 1px solid var(--stroke); border-radius: var(--radius); box-shadow: var(--shadow); padding: 20px; text-align: left; }
    .hero { text-align: center; padding: 16px; background: var(--card); border: 1px solid var(--stroke); border-radius: 20px; box-shadow: var(--shadow); margin-bottom: 16px; }
    .badge { display: inline-block; font-size: 13px; font-weight: 600; color: var(--accent); padding: 6px 12px; border: 1px solid var(--accent); border-radius: 999px; margin-bottom: 12px; }
    .title { font-size: clamp(24px, 5vw, 32px); font-weight: 800; margin: 0 0 6px; }
    .subtitle { font-size: 16px; color: var(--muted); margin: 0; line-height: 1.5; }
    .tabs { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 8px; border: 1px solid var(--stroke); border-radius: 12px; margin-top: 8px; }
    .tab { text-align: center; padding: 10px 12px; border-radius: 10px; font-weight: 700; color: var(--muted); border: 1px solid transparent; cursor: pointer; }
    .tab.active { color: var(--fg); border-color: var(--stroke); background: rgba(0,0,0,.03); }
    .field { margin: 10px 0; }
    .label { font-size: 13px; font-weight: 700; margin-bottom: 6px; }
    input[type="email"], input[type="password"], input[type="text"]{ width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--stroke); background:#fff0; color:var(--fg); outline:none; }
    input::placeholder { color: var(--muted); }
    .notice { border: 1px dashed var(--stroke); color: var(--muted); padding: 12px; border-radius: 12px; font-size: 14px; }

    /* Modal legal */
    .modal-backdrop{ position: fixed; inset:0; background: rgba(0,0,0,0.45); display:flex; align-items:center; justify-content:center; padding: 20px; }
    .modal{ width: 100%; max-width: 560px; background: var(--card); border: 1px solid var(--stroke); border-radius: 18px; box-shadow: var(--shadow); padding: 20px; text-align: left; }
    .modal h2{ margin: 0 0 6px; font-size: 20px; }
    .modal p{ color: var(--muted); margin: 0; }
    .modal .actions{ display:flex; gap:10px; margin-top:16px; }

    .hidden { display: none !important; }

    /* ======= APP (CAT√ÅLOGO) VIEW ======= */
    .topbar { position: sticky; top: 0; z-index: 10; backdrop-filter: blur(6px); background: color-mix(in srgb, var(--bg) 88%, transparent); border-bottom: 1px solid var(--stroke); }
    .topbar-inner { max-width: 1100px; margin: 0 auto; padding: 10px 20px; display: flex; align-items: center; gap: 10px; justify-content: space-between; }
    .profile { display:flex; align-items:center; gap:10px; color: var(--muted); font-size: 14px; }
    .profile .avatar { width:32px; height:32px; border-radius:999px; border:1px solid var(--stroke); object-fit: cover; }

    .hero-catalog { text-align: center; padding: 80px 20px; background: var(--card); border: 1px solid var(--stroke); border-radius: 20px; box-shadow: var(--shadow); margin: 20px 0 30px; }
    .title-xl { font-size: clamp(28px, 6vw, 48px); font-weight: 800; margin: 0 0 12px; color: var(--fg); }
    .subtitle-lg { font-size: 16px; color: var(--muted); max-width: 740px; margin: 0 auto 24px; line-height: 1.5; }

    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 20px; }
    .card { background: var(--card); border: 1px solid var(--stroke); border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden; transition: transform .15s ease; }
    .card:hover { transform: translateY(-3px); }
    .thumb { display: block; width: 100%; aspect-ratio: 16/11; object-fit: contain; background: #fff; }
    .meta { padding: 12px 14px; display: flex; align-items: center; justify-content: space-between; }
    .title-game { font-weight: 700; font-size: 15px; }
    .play { padding: 6px 12px; font-size: 14px; font-weight: 600; border: 1px solid var(--accent); border-radius: 8px; color: var(--accent); transition: background .2s ease, color .2s ease; }
    .play:hover { background: var(--accent); color: #fff; }

    footer { margin-top: 40px; text-align: center; color: var(--muted); font-size: 14px; }
  </style>
</head>
<body>
  <!-- ===== LOGIN ===== -->
  <div id="authView" class="center-screen">
    <div class="auth-card">
      <div class="hero">
        <div class="badge">Acceso a Carletes Games</div>
        <h1 class="title">Inicia sesi√≥n para continuar</h1>
        <p class="subtitle">Crea tu cuenta con nombre/apodo o usa Google.</p>
      </div>

      <div id="authArea">
        <div class="tabs" role="tablist" aria-label="Modo de acceso">
          <div id="tab-login"  class="tab active" role="tab" tabindex="0">Iniciar sesi√≥n</div>
          <div id="tab-signup" class="tab"        role="tab" tabindex="0">Crear cuenta</div>
        </div>

        <!-- Login -->
        <div id="panel-login" style="margin-top:12px;">
          <div class="field">
            <div class="label">Correo</div>
            <input id="login-email" type="email" placeholder="tu@correo.com" autocomplete="email" />
          </div>
          <div class="field">
            <div class="label">Contrase√±a</div>
            <input id="login-password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password" />
          </div>
          <button id="btn-login-email" class="btn full">Iniciar sesi√≥n</button>
        </div>

        <!-- Signup -->
        <div id="panel-signup" style="margin-top:12px; display:none;">
          <div class="field">
            <div class="label">Nombre</div>
            <input id="signup-name" type="text" placeholder="Tu nombre" autocomplete="name" />
          </div>
          <div class="field">
            <div class="label">Apodo</div>
            <input id="signup-nick" type="text" placeholder="Tu apodo" />
          </div>
          <div class="field">
            <div class="label">Correo</div>
            <input id="signup-email" type="email" placeholder="tu@correo.com" autocomplete="email" />
          </div>
          <div class="field">
            <div class="label">Contrase√±a (m√≠n. 6)</div>
            <input id="signup-password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password" />
          </div>
          <button id="btn-signup-email" class="btn full">Crear cuenta</button>
        </div>

        <div style="height:12px"></div>
        <button id="btn-google" class="btn ghost full">Continuar con Google</button>

        <div style="height:12px"></div>
        <div id="status" class="notice">Esperando autenticaci√≥n‚Ä¶</div>
      </div>
    </div>
  </div>

  <!-- ===== APP / CAT√ÅLOGO ===== -->
  <div id="appView" class="hidden">
    <div class="topbar">
      <div class="topbar-inner">
        <div class="profile">
          <img id="avatar" class="avatar" alt="avatar" src="" onerror="this.style.display='none'"/>
          <div>
            <div style="font-weight:700">Bienvenido, <span id="userName">usuario</span></div>
            <div style="font-size:12px; color:var(--muted)">Apodo: <span id="userNick">‚Äì</span></div>
          </div>
        </div>
        <div style="display:flex; gap:8px; align-items:center;">
          <button id="btn-copy-link" class="btn ghost">Copiar enlace con usuario</button>
          <button id="btn-logout" class="btn">Cerrar sesi√≥n</button>
        </div>
      </div>
    </div>

    <div class="wrap">
      <!-- Hero cat√°logo -->
      <section class="hero-catalog">
        <div class="badge">üéÆ Carletes Games</div>
        <h1 class="title-xl">Carletes Games ha vuelto</h1>
        <p id="welcome" class="subtitle-lg"></p>
        <div class="cta" style="display:flex; justify-content:center; gap:12px;">
          <a href="#menu" class="btn">Entrar a jugar</a>
          <a href="#menu" class="btn ghost">Ver cat√°logo</a>
        </div>
      </section>

      <!-- Men√∫ de juegos -->
      <main id="menu" class="grid">
        <article class="card">
          <a href="drivemad.html"><img src="img/drivemad.png" alt="Drive Mad" class="thumb"></a>
          <div class="meta"><span class="title-game">Drive Mad</span><a href="drivemad.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="monkeymart.html"><img src="img/monkeymart.png" alt="Monkey Mart" class="thumb"></a>
          <div class="meta"><span class="title-game">Monkey Mart</span><a href="monkeymart.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="subwaysurfers.html"><img src="img/subway-surfers-haunted-hood.webp" alt="Subway Surfers" class="thumb"></a>
          <div class="meta"><span class="title-game">Subway Surfers</span><a href="subwaysurfers.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="uno.html"><img src="img/uno.jpg" alt="UNO" class="thumb"></a>
          <div class="meta"><span class="title-game">UNO</span><a href="uno.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="clashroyale.html"><img src="img/ClashRoyale.png" alt="Clash Royale" class="thumb"></a>
          <div class="meta"><span class="title-game">Clash Royale</span><a href="clashroyale.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="blockblast.html"><img src="img/blockblast.jpg" alt="Block Blast" class="thumb"></a>
          <div class="meta"><span class="title-game">Block Blast</span><a href="blockblast.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="retrobowl.html"><img src="img/retrobowl.png" alt="Retro Bowl" class="thumb"></a>
          <div class="meta"><span class="title-game">Retro Bowl</span><a href="retrobowl.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="angrybirds.html"><img src="img/angrybirds.png" alt="Angry Birds" class="thumb"></a>
          <div class="meta"><span class="title-game">Angry Birds</span><a href="angrybirds.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="youtubeunblocked.html"><img src="img/YT.png" alt="Youtube Unblocked" class="thumb"></a>
          <div class="meta"><span class="title-game">Youtube Unblocked</span><a href="youtubeunblocked.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="money-roller.html"><img src="img/money-roller.png" alt="Money Roller" class="thumb"></a>
          <div class="meta"><span class="title-game">Money Roller</span><a href="money-roller.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="8-ball-pool.html"><img src="img/8ballpool.png" alt="8 Ball Pool" class="thumb"></a>
          <div class="meta"><span class="title-game">8 Ball Pool</span><a href="8-ball-pool.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="jetpack-joyride.html"><img src="img/Jetpack.png" alt="Jetpack Joyride" class="thumb"></a>
          <div class="meta"><span class="title-game">Jetpack Joyride</span><a href="jetpack-joyride.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="tiny-fishing.html"><img src="img/tiny-fishing.png" alt="Tiny-Fishing" class="thumb"></a>
          <div class="meta"><span class="title-game">Tiny-Fishing</span><a href="tiny-fishing.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="fruit-ninja.html"><img src="img/fruit-ninja.png" alt="Ninja-Fruit" class="thumb"></a>
          <div class="meta"><span class="title-game">Ninja-Fruit</span><a href="fruit-ninja.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="a-small-world-cup.html"><img src="img/asmallworldcup.png" alt="A Small World Cup" class="thumb"></a>
          <div class="meta"><span class="title-game">A Small World Cup</span><a href="a-small-world-cup.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="eggy-car.html"><img src="img/Eggy-Car.png" alt="EGGY CAR" class="thumb"></a>
          <div class="meta"><span class="title-game">EGGY CAR</span><a href="eggy-car.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="clash-of-tanks.html"><img src="img/clash-of-tanks.png" alt="Clash Of Tanks" class="thumb"></a>
          <div class="meta"><span class="title-game">Clash Of Tanks</span><a href="clash-of-tanks.html" class="play">Jugar</a></div>
        </article>

        <article class="card">
          <a href="penalty-shooters-2.html"><img src="img/penalty-shooters-2.png" alt="Penalty Shooters 2" class="thumb"></a>
          <div class="meta"><span class="title-game">Penalty Shooters 2</span><a href="penalty-shooters-2.html" class="play">Jugar</a></div>
        </article>
      </main>

      <footer>Carletes Games ¬∑ Hecho con üíô por Carletes ¬∑ Usa aud√≠fonos üòâ</footer>
    </div>
  </div>

  <!-- ===== MODAL LEGAL ===== -->
  <div id="legalModal" class="modal-backdrop">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="legal-title">
      <h2 id="legal-title">Aviso importante</h2>
      <p>
        Accedes bajo tu propia responsabilidad y <strong>deslindas a ‚Äúcarletes‚Äù</strong> de cualquier uso indebido de esta p√°gina o de sus contenidos.
        Si no est√°s de acuerdo, presiona ‚ÄúCancelar‚Äù.
      </p>
      <div class="actions">
        <button id="btn-accept" class="btn">Acepto</button>
        <button id="btn-cancel" class="btn ghost">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- ===== Firebase + L√≥gica ===== -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-analytics.js";
    import {
      getAuth, onAuthStateChanged, updateProfile, signOut,
      signInWithEmailAndPassword, createUserWithEmailAndPassword,
      GoogleAuthProvider, signInWithPopup, signInWithRedirect, getRedirectResult
    } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-auth.js";

    // Config
    const firebaseConfig = {
      apiKey: "AIzaSyAdIYosKvktrWeuoyrupSVRLE3ekfv74IU",
      authDomain: "carletes-games.firebaseapp.com",
      projectId: "carletes-games",
      storageBucket: "carletes-games.firebasestorage.app",
      messagingSenderId: "6199017607",
      appId: "1:6199017607:web:f1a2409202bdf08e3bf822",
      measurementId: "G-DS1SXZ8QN2"
    };

    // Init
    const app = initializeApp(firebaseConfig);
    try { getAnalytics(app); } catch(_) {}
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();
    provider.setCustomParameters({ prompt: 'select_account' });

    // Elements
    const authView   = document.getElementById('authView');
    const appView    = document.getElementById('appView');
    const loaderTxt  = document.getElementById('status');

    const tabLogin   = document.getElementById('tab-login');
    const tabSignup  = document.getElementById('tab-signup');
    const panelLogin = document.getElementById('panel-login');
    const panelSignup= document.getElementById('panel-signup');

    const loginEmail = document.getElementById('login-email');
    const loginPass  = document.getElementById('login-password');
    const signupName = document.getElementById('signup-name');
    const signupNick = document.getElementById('signup-nick');
    const signupEmail= document.getElementById('signup-email');
    const signupPass = document.getElementById('signup-password');

    const btnLoginEmail  = document.getElementById('btn-login-email');
    const btnSignupEmail = document.getElementById('btn-signup-email');
    const btnGoogle      = document.getElementById('btn-google');

    const legalModal = document.getElementById('legalModal');
    const btnAccept  = document.getElementById('btn-accept');
    const btnCancel  = document.getElementById('btn-cancel');

    const btnLogout = document.getElementById('btn-logout');
    const btnCopy = document.getElementById('btn-copy-link');

    const elWelcome = document.getElementById('welcome');
    const elUser    = document.getElementById('userName');
    const elNick    = document.getElementById('userNick');
    const elAvatar  = document.getElementById('avatar');

    // ===== SIEMPRE PEDIR INICIAR SESI√ìN =====
    try { await signOut(auth); } catch(_) {}

    // Modal legal
    btnAccept.addEventListener('click', () => { legalModal.style.display = 'none'; });
    btnCancel.addEventListener('click', () => { try { window.top.close(); } catch { history.back(); } });

    // Tabs
    function setTab(which){
      const isLogin = which === 'login';
      tabLogin.classList.toggle('active', isLogin);
      tabSignup.classList.toggle('active', !isLogin);
      panelLogin.style.display  = isLogin ? 'block' : 'none';
      panelSignup.style.display = isLogin ? 'none'  : 'block';
    }
    tabLogin.addEventListener('click', () => setTab('login'));
    tabSignup.addEventListener('click', () => setTab('signup'));

    // Helpers
    function status(msg){ loaderTxt.textContent = msg; }
    function disableAuth(disabled){ [btnLoginEmail, btnSignupEmail, btnGoogle].forEach(b => b.disabled = disabled); }
    function readUrlUser(){
      const params = new URLSearchParams(location.search);
      let name = params.get('user') || '';
      name = name.replace(/[<>]/g, '').trim();
      if (name.length > 40) name = name.slice(0, 40) + '‚Ä¶';
      return name;
    }
    function buildWelcome(user){
      const who  = readUrlUser() || user?.displayName || user?.email || 'usuario';
      const nick = localStorage.getItem('carletes_nick') || new URLSearchParams(location.search).get('nick') || '';
      elUser.textContent = who;
      elNick.textContent = nick || '‚Äî';
      if (user?.photoURL) { elAvatar.src = user.photoURL; elAvatar.style.display='block'; }
      elWelcome.textContent = `¬°Hola, ${who}! Bienvenido a Carletes Games. Te presentamos una colecci√≥n de juegos lista para disfrutar en tu iPad. Recuerda que en caso de conducta inapropiada, podr√≠as ocasionar el baneo de tu cuenta. ¬°Esperamos que disfrutes de la experiencia!`;
    }

    function showApp(user){
      authView.classList.add('hidden');
      appView.classList.remove('hidden');
      buildWelcome(user);
    }

    // Email/Password
    btnLoginEmail.addEventListener('click', async () => {
      const email = loginEmail.value.trim();
      const pass  = loginPass.value.trim();
      if(!email || !pass) return status('Correo y contrase√±a son requeridos.');
      try { disableAuth(true); await signInWithEmailAndPassword(auth, email, pass); status('Inicio de sesi√≥n correcto.'); }
      catch (e) { status(mapAuthError(e)); }
      finally { disableAuth(false); }
    });

    // Signup con nombre y apodo
    btnSignupEmail.addEventListener('click', async () => {
      const name  = signupName.value.trim();
      const nick  = signupNick.value.trim();
      const email = signupEmail.value.trim();
      const pass  = signupPass.value.trim();
      if(!name)  return status('Por favor, escribe tu nombre.');
      if(!nick)  return status('Por favor, escribe tu apodo.');
      if(!email) return status('El correo es requerido.');
      if(pass.length < 6) return status('Contrase√±a m√≠nima de 6 caracteres.');
      try {
        disableAuth(true);
        const cred = await createUserWithEmailAndPassword(auth, email, pass);
        await updateProfile(cred.user, { displayName: name });
        localStorage.setItem('carletes_nick', nick);
        status('Cuenta creada e iniciada correctamente.');
      } catch (e) { status(mapAuthError(e)); }
      finally { disableAuth(false); }
    });

    // Google con fallback a redirect
    btnGoogle.addEventListener('click', async () => {
      try {
        disableAuth(true);
        await signInWithPopup(auth, provider);
        status('Autenticado con Google.');
      } catch (e) {
        const fallbackCodes = ['auth/popup-blocked','auth/popup-closed-by-user','auth/operation-not-supported-in-this-environment','auth/auth-domain-config-required','auth/unauthorized-domain'];
        if (fallbackCodes.includes(e?.code)) {
          try { status('Abriendo Google con redirecci√≥n‚Ä¶'); await signInWithRedirect(auth, provider); return; }
          catch (e2) { status(mapAuthError(e2)); }
        } else { status(mapAuthError(e)); }
      } finally { disableAuth(false); }
    });

    // Procesar resultado de redirect
    (async () => {
      try {
        const result = await getRedirectResult(auth);
        if (result && result.user) { status(`Autenticado como ${result.user.displayName || result.user.email}.`); showApp(result.user); }
      } catch (e) { status(mapAuthError(e)); }
    })();

    // Estado de sesi√≥n ‚Üí mostrar cat√°logo dentro de la misma p√°gina
    onAuthStateChanged(auth, (user) => { if (user) { showApp(user); } });

    // Cerrar sesi√≥n
    btnLogout.addEventListener('click', async () => { try { await signOut(auth); location.reload(); } catch(e){ alert('No se pudo cerrar sesi√≥n'); } });

    // Copiar URL con ?user=&nick=
    btnCopy.addEventListener('click', async () => {
      const url = new URL(location.href);
      url.searchParams.set('user', elUser.textContent || 'usuario');
      const nick = elNick.textContent && elNick.textContent !== '‚Äî' ? elNick.textContent : '';
      if (nick) url.searchParams.set('nick', nick); else url.searchParams.delete('nick');
      try { await navigator.clipboard.writeText(url.toString()); btnCopy.textContent = '¬°Copiado!'; setTimeout(()=>btnCopy.textContent='Copiar enlace con usuario', 1500); }
      catch { alert(url.toString()); }
    });

    // Errores comunes
    function mapAuthError(e){
      const code = (e && e.code) ? e.code : '';
      switch(code){
        case 'auth/invalid-credential': return 'Credenciales inv√°lidas.';
        case 'auth/invalid-email': return 'Correo inv√°lido.';
        case 'auth/user-disabled': return 'Usuario deshabilitado.';
        case 'auth/user-not-found': return 'Usuario no encontrado.';
        case 'auth/wrong-password': return 'Contrase√±a incorrecta.';
        case 'auth/email-already-in-use': return 'Ese correo ya est√° en uso.';
        case 'auth/weak-password': return 'Contrase√±a d√©bil (m√≠n. 6).';
        case 'auth/popup-blocked': return 'El navegador bloque√≥ la ventana emergente.';
        case 'auth/popup-closed-by-user': return 'Cerraste la ventana de Google.';
        case 'auth/operation-not-supported-in-this-environment': return 'El entorno no soporta ventanas emergentes. Usaremos redirecci√≥n.';
        case 'auth/unauthorized-domain': return 'Dominio no autorizado en Firebase (rev√≠salo en Authentication ‚Üí Settings).';
        case 'auth/auth-domain-config-required': return 'Falta configurar el dominio de autenticaci√≥n en Firebase.';
        default: return 'Error de autenticaci√≥n. Intenta nuevamente.';
      }
    }

    // Estado inicial
    setTab('login');
  </script>
</body>
</html>
